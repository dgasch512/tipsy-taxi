{"ast":null,"code":"import _classCallCheck from\"/Users/gaschdammit/Documents/devFolder/final/tipsy-taxi/tipsy-taxi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/gaschdammit/Documents/devFolder/final/tipsy-taxi/tipsy-taxi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/gaschdammit/Documents/devFolder/final/tipsy-taxi/tipsy-taxi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/gaschdammit/Documents/devFolder/final/tipsy-taxi/tipsy-taxi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Paper,TextField,Button}from'@material-ui/core';import'../styles/login.css';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.loadUser=function(data){_this.setState({user:{id:data.id,name:data.name,email:data.email,ridesTot:data.ridesTot,registered:data.registered}});};_this.onEmailChange=function(event){_this.setState({signInEmail:event.target.value});};_this.onPasswordChange=function(event){_this.setState({signInPassword:event.target.value});};_this.onSubmitSignIn=function(){fetch('/login',{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:_this.state.signInEmail,password:_this.state.signInPassword})}).then(function(response){return response.json();}).then(function(driver){if(driver.id){// event.preventDefault()\n_this.loadUser(driver);_this.props.profile(driver);document.cookie=\"loggedIn=true;max-age=1000*1000\";window.location.replace(\"/admin\");console.log(driver);}});};_this.state={signInEmail:'',signInPassword:'',user:{id:'',name:'',email:'',ridesTot:'',registered:''}};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(Paper,{elevation:3,className:\"loginPap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"loginCont\"},/*#__PURE__*/React.createElement(\"div\",{className:\"words\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"adminLogin\"},\"Admin Login\"),/*#__PURE__*/React.createElement(\"p\",{className:\"noRider\"},\"If you're looking for a ride, go back!\")),/*#__PURE__*/React.createElement(\"div\",{className:\"login-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-input\"},/*#__PURE__*/React.createElement(TextField,{required:true,variant:\"filled\",onChange:this.onEmailChange,name:\"username\",label:\"Username\",type:\"text\"})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"form-input\"},/*#__PURE__*/React.createElement(TextField,{required:true,variant:\"filled\",onChange:this.onPasswordChange,name:\"password\",label:\"Password\",type:\"password\"})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{type:\"submit\",className:\"login-button\",variant:\"contained\",onClick:this.onSubmitSignIn},\"Login\")))));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/Users/gaschdammit/Documents/devFolder/final/tipsy-taxi/tipsy-taxi/src/components/Login.js"],"names":["React","Component","Paper","TextField","Button","Login","loadUser","data","setState","user","id","name","email","ridesTot","registered","onEmailChange","event","signInEmail","target","value","onPasswordChange","signInPassword","onSubmitSignIn","fetch","method","headers","body","JSON","stringify","state","password","then","response","json","driver","props","profile","document","cookie","window","location","replace","console","log"],"mappings":"otBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OACEC,KADF,CAEEC,SAFF,CAGEC,MAHF,KAIO,mBAJP,CAKA,MAAO,qBAAP,C,GAGMC,CAAAA,K,8FACJ,gBAAc,uCACZ,wBADY,MAedC,QAfc,CAeH,SAACC,IAAD,CAAU,CACnB,MAAKC,QAAL,CAAc,CAACC,IAAI,CAAE,CACjBC,EAAE,CAAEH,IAAI,CAACG,EADQ,CAEjBC,IAAI,CAAEJ,IAAI,CAACI,IAFM,CAGjBC,KAAK,CAAEL,IAAI,CAACK,KAHK,CAIjBC,QAAQ,CAAEN,IAAI,CAACM,QAJE,CAKjBC,UAAU,CAAEP,IAAI,CAACO,UALA,CAAP,CAAd,EAQD,CAxBa,OAyBdC,aAzBc,CAyBE,SAACC,KAAD,CAAW,CACzB,MAAKR,QAAL,CAAc,CAAES,WAAW,CAAED,KAAK,CAACE,MAAN,CAAaC,KAA5B,CAAd,EACD,CA3Ba,OA6BdC,gBA7Bc,CA6BK,SAACJ,KAAD,CAAW,CAC5B,MAAKR,QAAL,CAAc,CAAEa,cAAc,CAAEL,KAAK,CAACE,MAAN,CAAaC,KAA/B,CAAd,EACD,CA/Ba,OAiCdG,cAjCc,CAiCG,UAAM,CACrBC,KAAK,CAAC,QAAD,CAAW,CACdC,MAAM,CAAE,MADM,CAEdC,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CAFK,CAGdC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBhB,KAAK,CAAE,MAAKiB,KAAL,CAAWZ,WADC,CAEnBa,QAAQ,CAAE,MAAKD,KAAL,CAAWR,cAFF,CAAf,CAHQ,CAAX,CAAL,CAQGU,IARH,CAQQ,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EARhB,EASGF,IATH,CASQ,SAAAG,MAAM,CAAI,CACd,GAAIA,MAAM,CAACxB,EAAX,CAAe,CACb;AACA,MAAKJ,QAAL,CAAc4B,MAAd,EACA,MAAKC,KAAL,CAAWC,OAAX,CAAmBF,MAAnB,EACAG,QAAQ,CAACC,MAAT,CAAkB,iCAAlB,CACAC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,QAAxB,EACAC,OAAO,CAACC,GAAR,CAAYT,MAAZ,EACD,CACF,CAlBH,EAmBD,CArDa,CAEZ,MAAKL,KAAL,CAAa,CACXZ,WAAW,CAAE,EADF,CAEXI,cAAc,CAAE,EAFL,CAGXZ,IAAI,CAAE,CACJC,EAAE,CAAE,EADA,CAEJC,IAAI,CAAE,EAFF,CAGJC,KAAK,CAAE,EAHH,CAIJC,QAAQ,CAAE,EAJN,CAKJC,UAAU,CAAE,EALR,CAHK,CAAb,CAFY,aAab,C,yDA0CQ,CACP,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,oBAAC,KAAD,EAAO,SAAS,CAAE,CAAlB,CAAqB,SAAS,CAAC,UAA/B,eAEE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,OAAf,eACE,0BAAI,SAAS,CAAC,YAAd,gBADF,cAEE,yBAAG,SAAS,CAAC,SAAb,2CAFF,CADF,cAME,2BAAK,SAAS,CAAC,YAAf,eACE,2BAAK,SAAS,CAAC,YAAf,eACA,oBAAC,SAAD,EACE,QAAQ,KADV,CAEE,OAAO,CAAC,QAFV,CAGE,QAAQ,CAAE,KAAKC,aAHjB,CAIE,IAAI,CAAC,UAJP,CAKE,KAAK,CAAC,UALR,CAME,IAAI,CAAC,MANP,EADA,CADF,cAUI,8BAVJ,cAWI,2BAAK,SAAS,CAAC,YAAf,eACE,oBAAC,SAAD,EACA,QAAQ,KADR,CAEA,OAAO,CAAC,QAFR,CAGA,QAAQ,CAAE,KAAKK,gBAHf,CAIA,IAAI,CAAC,UAJL,CAKA,KAAK,CAAC,UALN,CAMA,IAAI,CAAC,UANL,EADF,CAXJ,cAoBI,8BApBJ,cAqBE,oBAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,cAFZ,CAGE,OAAO,CAAC,WAHV,CAIE,OAAO,CAAE,KAAKE,cAJhB,UArBF,CANF,CAFF,CADF,CADF,CA2CD,C,mBApGiBrB,S,EAuGpB,cAAeI,CAAAA,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Paper,\n  TextField,\n  Button\n} from '@material-ui/core';\nimport '../styles/login.css';\n\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      signInEmail: '',\n      signInPassword: '',\n      user: {\n        id: '',\n        name: '',\n        email: '',\n        ridesTot: '',\n        registered: ''\n      }\n    }\n  }\n\n  loadUser = (data) => {\n    this.setState({user: {\n        id: data.id,\n        name: data.name,\n        email: data.email,\n        ridesTot: data.ridesTot,\n        registered: data.registered\n      }\n    })\n  }\n  onEmailChange = (event) => {\n    this.setState({ signInEmail: event.target.value })\n  };\n\n  onPasswordChange = (event) => {\n    this.setState({ signInPassword: event.target.value })\n  };\n\n  onSubmitSignIn = () => {\n    fetch('/login', {\n      method: 'post',\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify({\n        email: this.state.signInEmail,\n        password: this.state.signInPassword\n      })\n    })\n      .then(response => response.json())\n      .then(driver => {\n        if (driver.id) {\n          // event.preventDefault()\n          this.loadUser(driver)\n          this.props.profile(driver)\n          document.cookie = \"loggedIn=true;max-age=1000*1000\";\n          window.location.replace(\"/admin\")\n          console.log(driver)\n        }\n      })\n  }\n\n  render() {\n    return (\n      <div className=\"app\" >\n        <Paper elevation={3} className=\"loginPap\">\n\n          <div className=\"loginCont\">\n            <div className='words'>\n              <h2 className='adminLogin'>Admin Login</h2>\n              <p className='noRider'>If you're looking for a ride, go back!</p>             \n            </div>\n\n            <div className=\"login-form\">\n              <div className=\"form-input\">\n              <TextField\n                required\n                variant=\"filled\"\n                onChange={this.onEmailChange}\n                name=\"username\"\n                label=\"Username\"\n                type=\"text\" />\n                </div>\n                <br />\n                <div className='form-input'>\n                  <TextField\n                  required\n                  variant=\"filled\"\n                  onChange={this.onPasswordChange}\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\" />\n                </div>\n                <br />\n              <Button\n                type=\"submit\"\n                className=\"login-button\"\n                variant=\"contained\"\n                onClick={this.onSubmitSignIn}\n                >Login</Button>\n            </div>\n        </div>\n          \n        </Paper>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}